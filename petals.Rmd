---
title: "petals"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

A personal basic guide for R projects, with references to multiple R-code related topics

### Handling packages

```{r packages}
# install package function that installs the package 
# package still requires loading as library
loadPackage <- function(package) {
  if (!package %in% installed.packages())
    install.packages(package)
}
```

### Code Chunk factors
- **include = FALSE** prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.
- **echo = FALSE** prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures.
- **message = FALSE** prevents messages that are generated by code from appearing in the finished file.
- **warning = FALSE** prevents warnings that are generated by code from appearing in the finished.
- **fig.cap = "..."** adds a caption to graphical results.

## Petals Practice

This code loads the iris dataset and performs simple statistically modelling and visualization as an introductory practice to R and statistics. This takes references to: https://rpubs.com/moeransm/intro-iris.

```{r load data and packages echo=FALSE}
loadPackage("dplyr")
library(dplyr)
library(datasets)
```

```{r}
data(iris)
```

```{r}
summary(iris)
```

```{r}
summary(iris$Sepal.Length)
```

### dplyr: Filter
```{r}
# filter only the virginia specices
virginica <- filter(iris, Species=="virginica")

# displays the first six rows
head(virginica)
```

```{r}
sepalLength6 <- filter(iris, Species=="virginica", Sepal.Length > 6)
tail(sepalLength6)
```
### dplyr: Select

```{r}
# selected specific columns
selected <- select(iris, Sepal.Length, Sepal.Width, Petal.Length)
selected1 <- select(iris, Sepal.Length:Petal.Length)
selected2 <- select(iris,1:3)
#they are all the same
```

### dplyr: Mutate

```{r}
# created a new column
newCol <- mutate(iris,greater.half = Sepal.Width > 0.5 * Sepal.Length)
tail(newCol)
```

### Other functions

```{r}
# arrange()
newCol <- arrange(newCol, Petal.Width)
head(newCol)

arrange(iris,desc(Petal.Width))

# %>%
arr.virg <- newCol %>% filter(Species=="virginica") %>% arrange(Sepal.Width)
arr.virg
```

```{r}
summarise(arr.virg, mean.length=mean(Sepal.Length,na.rm=TRUE))
```
### Visualization
```{r}
# matrix
plot(iris)
```

```{r}
# regular x,y plot
plot(iris$Sepal.Length,iris$Sepal.Width)
```

```{r}
hist(iris$Sepal.Length)
```